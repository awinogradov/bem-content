# attach

Блок `attach` служит для загрузки файла, предназначенного для отправки на сервер.

По умолчанию блок визуально представлен кнопкой на основе блока [button](../button/button.ru.md), открывающей системное окно загрузки файла, и текстовым сообщением (например, «Файл не выбран»). После загрузки файла отображаются следующие элементы:

* иконка файла (блок `icon`);
* имя файла (элемент `text`);
* крестик для отмены (элемент `clear`).

Реализация блока не позволяет прикреплять несколько файлов и не поддерживает drag-and-drop.

## Модификаторы блока

### Темы оформления  `_theme`

Блок представлен только в теме `simple`.

Без указания модификатора темы отображается [нативный](#native) вид контрола.

Наглядно показано на примерах ниже:

**default**

<a name="native"></a>
```bemjson
{
    block : 'attach',
    button : 'Выберите файл',
    noFileText : 'Файл не выбран'
}
```
**simple**

```bemjson
{
    block : 'attach',
    mods : { theme : 'simple' },
    button : 'Выберите файл',
    noFileText : 'Файл не выбран'
}
```

### Состояния блока

#### Неактивен `_disabled`

В неактивном состоянии блока кнопка выбора видна, но недоступна для действий пользователя. Также блок не может получить следующие модификаторы: `focused`, `pressed` и `hovered`.

```bemjson
{
    block : 'attach',
    mods : { theme : 'simple', disabled : true },
    button : 'Выберите файл',
    noFileText : 'файл не выбран'
}
```

## Элементы блока

### __button

Обязательный элемент.
Кнопка выбора файла, которая открывает системное окно загрузки файла. Реализована на основе блока [button](../button/button.ru.md) и использует его поведение (JS) и внешний вид (CSS). Контент кнопки задается во входных данных.

```bemjson
{
    block : 'attach',
    mods : { theme : 'simple' },
    button : {
        block : 'button',
        mods : { theme : 'simple' },
        icon : { block : 'icon', mods : { action : 'download' },
        text: 'Выберите файл'
        }
    },
    noFileText : 'Файл не выбран'
}
```

### __control

Нативный контрол «прикрепить файл».

Вспомогательный элемент. Добавляется блоку на уровне шаблонизатора.

### __no-file

Вспомогательный элемент для отображения текста, когда файл не выбран. Добавляется блоку на уровне шаблонизатора.

### __file

Контейнер с информацией о прикрепленном файле.

Формируется из следующих элементов блока:

* `text`
* `clear`

Может содержать блок `icon`. В зависимости от типа файла блоку `icon` добавляется модификатор, которому будет назначена иконка, соответствующая типу файла.

### __text

Имя файла. Появляется после прикрепления файла.

### __clear

Элемент отмены выбранного файла. Появляется после прикрепления файла.

Элемент реализован для темы `simple`.
